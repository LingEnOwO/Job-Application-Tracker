(function(){"use strict";function l(){return window.location.hostname.includes("greenhouse.io")||document.querySelector(".app-title")!==null||document.querySelector("#application_form")!==null}function m(){const t={},c=document.querySelector('meta[property="og:site_name"]');if(c)t.company=c.content;else{const e=document.querySelector(".company-name, .header-company-name");e&&(t.company=e.textContent.trim())}const i=document.querySelector('.app-title, h1.app-title, [data-qa="job-title"]');i&&(t.position=i.textContent.trim());const n=document.querySelector(".location, .app-location");n&&(t.location=n.textContent.trim());const a=document.querySelector("#content, .content, .job-description");a&&(t.jobDescription=a.textContent.trim());const o=window.location.pathname.match(/\/jobs\/(\d+)/);return o&&(t.jobId=o[1]),t}function d(){return window.location.hostname.includes("lever.co")||document.querySelector('[data-qa="posting-name"]')!==null||document.querySelector(".posting")!==null}function u(){const t={},c=document.querySelector('meta[property="og:site_name"]');if(c)t.company=c.content;else{const e=document.querySelector(".main-header-text-logo, .company-name");e&&(t.company=e.textContent.trim())}const i=document.querySelector('[data-qa="posting-name"], .posting-headline h2');i&&(t.position=i.textContent.trim());const n=document.querySelector('.posting-categories .location, [data-qa="posting-location"]');n&&(t.location=n.textContent.trim());const a=document.querySelector(".section-wrapper, .posting-description");a&&(t.jobDescription=a.textContent.trim());const o=window.location.pathname.match(/\/([a-f0-9-]+)$/);return o&&(t.jobId=o[1]),t}function p(){return window.location.hostname.includes("ashbyhq.com")||document.querySelector('[data-testid="job-title"]')!==null||document.querySelector(".ashby-job-posting")!==null}function y(){const t={};try{const o=document.querySelector('script[type="application/ld+json"]');if(o){const e=JSON.parse(o.textContent);e.hiringOrganization&&e.hiringOrganization.name&&(t.company=e.hiringOrganization.name)}}catch{}if(!t.company&&window.location.hostname==="jobs.ashbyhq.com"){const e=window.location.pathname.match(/^\/([^\/]+)/);e&&(t.company=e[1].split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "))}const c=document.querySelector('[data-testid="job-title"], h1');c&&(t.position=c.textContent.trim());const i=document.querySelector('[data-testid="job-location"]');i&&(t.location=i.textContent.trim());const n=document.querySelector('[data-testid="job-description"], .job-description');n&&(t.jobDescription=n.textContent.trim());const a=window.location.pathname.match(/\/([a-f0-9-]+)$/);return a&&(t.jobId=a[1]),t}function f(){return window.location.hostname.includes("myworkdayjobs.com")||document.querySelector('[data-automation-id="jobPostingHeader"]')!==null||document.querySelector(".jobProperty")!==null}function h(){const t={},i=window.location.hostname.match(/([^.]+)\.myworkdayjobs\.com/);i&&(t.company=i[1].charAt(0).toUpperCase()+i[1].slice(1));const n=document.querySelector('h2[data-automation-id="jobPostingHeader"], .jobPostingHeader h2');n&&(t.position=n.textContent.trim());const a=document.querySelector('[data-automation-id="locations"], .jobProperty.location');a&&(t.location=a.textContent.trim());const o=document.querySelector('[data-automation-id="jobPostingDescription"], .jobDescription');o&&(t.jobDescription=o.textContent.trim());const e=document.querySelector('[data-automation-id="requisitionId"]');return e&&(t.jobId=e.textContent.trim()),t}function b(){return window.location.href}function j(){const t={},c=document.querySelector('meta[property="og:title"]'),i=document.querySelector('meta[property="og:site_name"]'),n=document.querySelector('meta[property="og:description"]');if(c&&(t.position=c.content),i&&(t.company=i.content),n&&(t.jobDescription=n.content),!t.position){const o=document.querySelector('meta[name="twitter:title"]');o&&(t.position=o.content)}!t.position&&document.title&&(t.position=document.title);const a=document.querySelectorAll('script[type="application/ld+json"]');for(const o of a)try{const e=JSON.parse(o.textContent);if(e["@type"]==="JobPosting"){e.title&&(t.position=e.title),e.hiringOrganization?.name&&(t.company=e.hiringOrganization.name),e.description&&(t.jobDescription=e.description),e.jobLocation?.address?.addressLocality&&(t.location=e.jobLocation.address.addressLocality);break}}catch{}return t}function g(){return l()?"greenhouse":d()?"lever":p()?"ashby":f()?"workday":null}function S(t){switch(t){case"greenhouse":return m();case"lever":return u();case"ashby":return y();case"workday":return h();default:return{}}}function q(){const t={},c=document.querySelector("h1");c&&(t.position=c.textContent.trim());const i=[".company-name",".employer-name",'[itemprop="hiringOrganization"]',".company"];for(const a of i){const o=document.querySelector(a);if(o){t.company=o.textContent.trim();break}}const n=document.querySelector("main, article, .job-description, .description");return n&&(t.jobDescription=n.textContent.trim()),t}function x(){const t=new Date,c=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=`${c}-${i}-${n}`,o={jobUrl:b(),applyDate:a},e=j();Object.assign(o,e);const r=g();if(r){const s=S(r);Object.assign(o,s),o.atsDetected=r}else{const s=q();Object.assign(o,s)}return o.position&&(o.position=o.position.trim()),o.company&&(o.company=o.company.trim()),o.jobDescription&&(o.jobDescription=o.jobDescription.substring(0,1e4).trim()),o}chrome.runtime.onMessage.addListener((t,c,i)=>{if(t.action==="extract")try{const n=x();i({success:!0,data:n})}catch(n){i({success:!1,error:n.message})}return!0})})();
