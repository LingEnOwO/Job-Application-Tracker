<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application Tracker</title>
    <link rel="stylesheet" href="sheet-ui-styles.css">
</head>

<body>
    <div class="app-container">
        <header class="app-header">
            <h1>Job Application Tracker</h1>
            <div class="header-actions">
                <button id="addRowBtn" class="btn btn-secondary">+ Add Application</button>
                <div class="export-import-group">
                    <button id="exportCsvBtn" class="btn btn-secondary">Export CSV</button>
                    <button id="exportJsonBtn" class="btn btn-secondary">Export JSON</button>
                    <label for="importJsonInput" class="btn btn-secondary">Import JSON</label>
                    <input type="file" id="importJsonInput" accept=".json" style="display: none;">
                </div>
            </div>
        </header>

        <!-- Notes Section -->
        <div class="notes-section">
            <div class="notes-header">
                <span class="notes-icon">üìù</span>
                <span class="notes-title">Notes</span>
                <button id="toggleNotesBtn" class="btn-icon">‚ñº</button>
            </div>
            <div class="notes-content" id="notesContent">
                <div class="notes-toolbar">
                    <button class="toolbar-btn" data-command="bold" title="Bold (Ctrl+B)"><strong>B</strong></button>
                    <button class="toolbar-btn" data-command="italic" title="Italic (Ctrl+I)"><em>I</em></button>
                    <button class="toolbar-btn" data-command="underline" title="Underline (Ctrl+U)"><u>U</u></button>
                    <button class="toolbar-btn" data-command="strikeThrough" title="Strikethrough"><s>S</s></button>
                    <span class="toolbar-divider"></span>
                    <button class="toolbar-btn" data-command="insertUnorderedList" title="Bulleted List">‚Ä¢</button>
                    <button class="toolbar-btn" data-command="insertOrderedList" title="Numbered List">1.</button>
                </div>
                <div id="notesEditor" class="notes-editor" contenteditable="true"
                    data-placeholder="Add important notes here (e.g., upcoming deadlines, interview tips, etc.)..."></div>
            </div>
        </div>

        <!-- Filters and Search -->
        <div class="controls-section">
            <div class="filters-group">
                <label class="control-label">Filter by Stage:</label>
                <div class="filter-chips" id="filterChips">
                    <button class="filter-chip active" data-stage="all">All</button>
                    <button class="filter-chip" data-stage="Applied">Applied</button>
                    <button class="filter-chip" data-stage="OA">OA</button>
                    <button class="filter-chip" data-stage="Phone">Phone</button>
                    <button class="filter-chip" data-stage="Onsite">Onsite</button>
                    <button class="filter-chip" data-stage="Offer">Offer</button>
                    <button class="filter-chip" data-stage="Rejected">Rejected</button>
                </div>
            </div>
            <div class="search-group">
                <label class="control-label">Search:</label>
                <input type="text" id="searchInput" class="search-input"
                    placeholder="Search by company, position, or notes...">
            </div>
            <div class="count-display">
                <span id="countText">0 applications</span>
            </div>
        </div>

        <div class="main-content">
            <div class="table-container">
                <div id="emptyState" class="empty-state">
                    <div class="empty-state-icon">üìã</div>
                    <h2>No applications yet</h2>
                    <p>Click the extension icon on a job posting to save your first application</p>
                </div>

                <table id="applicationsTable" class="applications-table" style="display: none;">
                    <thead>
                        <tr>
                            <th class="expand-gutter"></th>
                            <th data-sort="applyDate" class="sortable sorted-desc">Apply Date</th>
                            <th data-sort="company" class="sortable">Company</th>
                            <th data-sort="position" class="sortable">Position</th>
                            <th data-sort="stage" class="sortable">Stage</th>
                            <th data-sort="responseDate" class="sortable">Response Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Rows will be inserted here -->
                    </tbody>
                </table>
            </div>

            <div id="sidePeek" class="side-peek">
                <div class="side-peek-header">
                    <h2>Application Details</h2>
                    <button id="closeSidePeek" class="btn-icon">&times;</button>
                </div>
                <div class="side-peek-content" id="sidePeekContent">
                    <!-- Content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script src="sheet-ui-app.js" type="module"></script>
</body>

</html>